#!/bin/bash

PROJECTS_DIR=${PROJECTS_DIR:-$HOME/.projects}

usage="Usage: $0 project-name"

abort() {
    echo "$*"
    exit 1
}

[ $# -eq 1 ] || abort "$usage"
project=$1; shift

sh_file=$PROJECTS_DIR/$project/init
tmuxinator_file=$PROJECTS_DIR/$project/tmuxinator.yaml
post_tmuxinator_file=$PROJECTS_DIR/$project/post_tmuxinator

[ -x $sh_file ] && $sh_file
tmuxinator $project
[ -x $post_tmuxinator_file ] && $post_tmuxinator_file
